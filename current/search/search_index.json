{"config":{"indexing":"full","lang":["en"],"min_search_length":3,"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"Introduction \u2693\ufe0e The System Description provides a high-level view of the EOEPCA architecture as a set of components (building blocks). It provides an entry-point description that focuses on the building-blocks, their interfaces and relationships. A description of each building block is provided to include: Overview of its role and functional capabilities Interfaces Provided Dependencies (incl. interfaces consumed)","title":"Introduction"},{"location":"#introduction","text":"The System Description provides a high-level view of the EOEPCA architecture as a set of components (building blocks). It provides an entry-point description that focuses on the building-blocks, their interfaces and relationships. A description of each building block is provided to include: Overview of its role and functional capabilities Interfaces Provided Dependencies (incl. interfaces consumed)","title":"Introduction"},{"location":"iam/iam-overview/","text":"Overview \u2693\ufe0e The User Management components are illustrated by the following deployment diagram, which shows Provided interfaces (above) and Required interfaces (below). The Login Service provides an OpenID Connection (OIDC) interface for end-user authentication, a User Managed Access (UMA) interface for resource protection, and a System for Cross-domain Identity Management (SCIM) interface for lookup and management of user data. The Login Service interfaces with the PDP via XACML in support of the UMA authorization flow. The Policy Decision Point (PDP) provides a Policy API for creation and management of authorization policies against resources, and a XACML endpoint for validation (decision) of access requests against the defined policies. The PDP interfaces with the SCIM service to obtain user attributes in support of the authorization decision. The Resource Guard aggregates the UMA User Agent and the PEP : The UMA User Agent integrates with the Nginx request path to intercept and authorize access requests to resource servers (e.g. ADES) - by implementing the Nginx auth_request interface. The UMA User Agent handles the UMA flow to obtain the access token from the Token Endpoint - the policy enforcement is handed off to the PEP via its auth_request interface; The Policy Enforcement Point (PEP) provides a Resources API through which Resource Servers are able to register and manage their resources. The PEP interfaces with the Login Service for UMA flows for resource registration and policy enforcement, and with the PDP Policy API for resource policy registration. The User Profile provides a web UI for users to manage their configuration within the platform. The User Profile interfaces with the OIDC service for user authentication and with the SCIM service to retrieve and manage user attributes. Interactions \u2693\ufe0e The building block responsibilities and interactions are illustrated by sequence diagrams for key flows. Resource Creation \u2693\ufe0e Resource creation is typically triggered by the Resource Servers that host the protected resources. The Resource Server calls the Resources API of the PEP, providing the details of the resource to be registered. The PEP registers the resource via the UMA endpoint of the Login Service, which returns the UUID of the new resource. The PEP records the unique resource ID and its associated path in its local database, before registering the authorization policies for the resource/owner via the Policy API of the PDP. Access Authorization \u2693\ufe0e Access to Resource Servers and their resources is protected by the Resource Guard, which integrates with Nginx to provide the authorization enforcement. Thus, the clients request is received by Nginx which proxies to the Resource Server based upon the advice of the Resource Guard. The authorization request arrives at the UMA User Agent - initially without an access token [Relying Party Token (RPT)] - and is forwarded to the PEP for the authorization enforcement. The PEP uses the URI of the original request to lookup the resource in its local database to obtain the applicable unique resource ID. The PEP calls the Permission Endpoint of the Login Service to obtain an appropriate ticket matching the requested resource and scopes (based upon the request method). The ticket is returned to the UMA User Agent, which accesses the Token Endpoint of the Login Service to exchange the ticket for an access token (RPT). The Login Service calls the XACML Endpoint of the PDP to obtain a policy decision based upon the requesting user, the resource ID and the requested scopes. Following a successful decision, the Login Service returns the RPT (access token) to the UMA User Agent. The UMA User Agent repeats the enforcement request to the PEP, this time with the RPT. The PEP uses the Introspection Endpoint of the Login Service to check the validity of the RPT. The \u2018success\u2019 decision is returned via the UMA User Agent to Nginx, which continues to proxy the request and so delivers the protected resource to the Client.","title":"Overview"},{"location":"iam/iam-overview/#overview","text":"The User Management components are illustrated by the following deployment diagram, which shows Provided interfaces (above) and Required interfaces (below). The Login Service provides an OpenID Connection (OIDC) interface for end-user authentication, a User Managed Access (UMA) interface for resource protection, and a System for Cross-domain Identity Management (SCIM) interface for lookup and management of user data. The Login Service interfaces with the PDP via XACML in support of the UMA authorization flow. The Policy Decision Point (PDP) provides a Policy API for creation and management of authorization policies against resources, and a XACML endpoint for validation (decision) of access requests against the defined policies. The PDP interfaces with the SCIM service to obtain user attributes in support of the authorization decision. The Resource Guard aggregates the UMA User Agent and the PEP : The UMA User Agent integrates with the Nginx request path to intercept and authorize access requests to resource servers (e.g. ADES) - by implementing the Nginx auth_request interface. The UMA User Agent handles the UMA flow to obtain the access token from the Token Endpoint - the policy enforcement is handed off to the PEP via its auth_request interface; The Policy Enforcement Point (PEP) provides a Resources API through which Resource Servers are able to register and manage their resources. The PEP interfaces with the Login Service for UMA flows for resource registration and policy enforcement, and with the PDP Policy API for resource policy registration. The User Profile provides a web UI for users to manage their configuration within the platform. The User Profile interfaces with the OIDC service for user authentication and with the SCIM service to retrieve and manage user attributes.","title":"Overview"},{"location":"iam/iam-overview/#interactions","text":"The building block responsibilities and interactions are illustrated by sequence diagrams for key flows.","title":"Interactions"},{"location":"iam/iam-overview/#resource-creation","text":"Resource creation is typically triggered by the Resource Servers that host the protected resources. The Resource Server calls the Resources API of the PEP, providing the details of the resource to be registered. The PEP registers the resource via the UMA endpoint of the Login Service, which returns the UUID of the new resource. The PEP records the unique resource ID and its associated path in its local database, before registering the authorization policies for the resource/owner via the Policy API of the PDP.","title":"Resource Creation"},{"location":"iam/iam-overview/#access-authorization","text":"Access to Resource Servers and their resources is protected by the Resource Guard, which integrates with Nginx to provide the authorization enforcement. Thus, the clients request is received by Nginx which proxies to the Resource Server based upon the advice of the Resource Guard. The authorization request arrives at the UMA User Agent - initially without an access token [Relying Party Token (RPT)] - and is forwarded to the PEP for the authorization enforcement. The PEP uses the URI of the original request to lookup the resource in its local database to obtain the applicable unique resource ID. The PEP calls the Permission Endpoint of the Login Service to obtain an appropriate ticket matching the requested resource and scopes (based upon the request method). The ticket is returned to the UMA User Agent, which accesses the Token Endpoint of the Login Service to exchange the ticket for an access token (RPT). The Login Service calls the XACML Endpoint of the PDP to obtain a policy decision based upon the requesting user, the resource ID and the requested scopes. Following a successful decision, the Login Service returns the RPT (access token) to the UMA User Agent. The UMA User Agent repeats the enforcement request to the PEP, this time with the RPT. The PEP uses the Introspection Endpoint of the Login Service to check the validity of the RPT. The \u2018success\u2019 decision is returned via the UMA User Agent to Nginx, which continues to proxy the request and so delivers the protected resource to the Client.","title":"Access Authorization"},{"location":"iam/login-service/","text":"Login Service \u2693\ufe0e [To be completed by Deimos] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful. Description \u2693\ufe0e Description to include: role in the architecture functional capabilities Interfaces \u2693\ufe0e Specification of interfaces provided by the component. Link to external specifications if applicable. OpenID Connection (OIDC) \u2693\ufe0e Interface for the authentication of end-users. Ref. https://gluu.org/docs/gluu-server/4.1/api-guide/openid-connect-api/ Discovery /.well-known/openid-configuration GET : Get configuration Authorization /oxauth/restv1/authorize GET : Request end-user authentication POST : Request end-user authentication Token Endpoint /oxauth/restv1/token POST : Obtain access token, ID token, refresh token Client Info /oxauth/restv1/clientinfo GET : Request info regarding client claims POST : Request info regarding client claims Client Registration /oxauth/restv1/register GET : Retrieve client metadata POST : Register new dynamic client PUT : Update client metadata End Session /oxauth/restv1/end_session GET : Request end session User Info /oxauth/restv1/userinfo GET : Retrieve claims about the authenticated end-user POST : Retrieve claims about the authenticated end-user User Managed Access (UMA) \u2693\ufe0e Interface for the protection of resources by resource servers. Ref. https://gluu.org/docs/gluu-server/4.1/api-guide/uma-api/ Discovery /.well-known/uma2-configuration GET : Get configuration Token Endpoint /oxauth/restv1/token POST : Request RPT Resource Registration /oxauth/restv1/host/rsrc/resource_set GET : List resources POST : Create resource /oxauth/restv1/host/rsrc/resource_set{rsid} GET : Get resource PUT : Update resource DELETE : Delete resource Permission Registration /oxauth/restv1/host/rsrc/resource_set POST : Register resource permission Token Introspection /oxauth/restv1/rpt/status POST : Token introspection System for Cross-domain Identity Management (SCIM) \u2693\ufe0e Interface for retrieving and manipulating user data. Ref. https://gluu.org/docs/gluu-server/4.1/api-guide/scim-api/ Users /identity/restv1/scim/v2/Users GET : Search users based on filter criteria POST : Create user /identity/restv1/scim/v2/Users/.search POST : Search users based on filter criteria /identity/restv1/scim/v2/Users/{id} GET : Retrieve a user by ID PUT : Update a user PATCH : Modify a user DELETE : Delete a user Groups /identity/restv1/scim/v2/Groups GET : Search groups based on filter criteria POST : Create group /identity/restv1/scim/v2/Groups/.search POST : Search groups based on filter criteria /identity/restv1/scim/v2/Groups/{id} GET : Retrieve a group by ID PUT : Update a group PATCH : Modify a group DELETE : Delete a group FIDO Devices /identity/restv1/scim/v2/FidoDevices /identity/restv1/scim/v2/Fido2Devices GET : Search FIDO devices based on filter criteria /identity/restv1/scim/v2/FidoDevices/.search /identity/restv1/scim/v2/Fido2Devices/.search POST : Search FIDO devices based on filter criteria /identity/restv1/scim/v2/FidoDevices/{id} /identity/restv1/scim/v2/Fido2Devices/{id} GET : Retrieve a FIDO device by ID PUT : Update a FIDO device PATCH : Modify a FIDO device DELETE : Delete a FIDO device Bulk Operations /identity/restv1/scim/v2/Bulk POST : Apply bulk operation Search /identity/restv1/scim/v2/.search POST : Search resources based on filter criteria Service Metadata /identity/restv1/scim/v2/ServiceProvider GET: Retrieve information about the capabilities of the server /identity/restv1/scim/v2/ResourceTypes GET: Retrieve information about the types of resources available in the service /identity/restv1/scim/v2/Schemas GET: Retrieve the schemas in use by available resources Dependencies \u2693\ufe0e Describe links with other eoepca components - e.g. interfaces consumed. Additional Information \u2693\ufe0e Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"Login Service"},{"location":"iam/login-service/#login-service","text":"[To be completed by Deimos] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful.","title":"Login Service"},{"location":"iam/login-service/#description","text":"Description to include: role in the architecture functional capabilities","title":"Description"},{"location":"iam/login-service/#interfaces","text":"Specification of interfaces provided by the component. Link to external specifications if applicable.","title":"Interfaces"},{"location":"iam/login-service/#openid-connection-oidc","text":"Interface for the authentication of end-users. Ref. https://gluu.org/docs/gluu-server/4.1/api-guide/openid-connect-api/ Discovery /.well-known/openid-configuration GET : Get configuration Authorization /oxauth/restv1/authorize GET : Request end-user authentication POST : Request end-user authentication Token Endpoint /oxauth/restv1/token POST : Obtain access token, ID token, refresh token Client Info /oxauth/restv1/clientinfo GET : Request info regarding client claims POST : Request info regarding client claims Client Registration /oxauth/restv1/register GET : Retrieve client metadata POST : Register new dynamic client PUT : Update client metadata End Session /oxauth/restv1/end_session GET : Request end session User Info /oxauth/restv1/userinfo GET : Retrieve claims about the authenticated end-user POST : Retrieve claims about the authenticated end-user","title":"OpenID Connection (OIDC)"},{"location":"iam/login-service/#user-managed-access-uma","text":"Interface for the protection of resources by resource servers. Ref. https://gluu.org/docs/gluu-server/4.1/api-guide/uma-api/ Discovery /.well-known/uma2-configuration GET : Get configuration Token Endpoint /oxauth/restv1/token POST : Request RPT Resource Registration /oxauth/restv1/host/rsrc/resource_set GET : List resources POST : Create resource /oxauth/restv1/host/rsrc/resource_set{rsid} GET : Get resource PUT : Update resource DELETE : Delete resource Permission Registration /oxauth/restv1/host/rsrc/resource_set POST : Register resource permission Token Introspection /oxauth/restv1/rpt/status POST : Token introspection","title":"User Managed Access (UMA)"},{"location":"iam/login-service/#system-for-cross-domain-identity-management-scim","text":"Interface for retrieving and manipulating user data. Ref. https://gluu.org/docs/gluu-server/4.1/api-guide/scim-api/ Users /identity/restv1/scim/v2/Users GET : Search users based on filter criteria POST : Create user /identity/restv1/scim/v2/Users/.search POST : Search users based on filter criteria /identity/restv1/scim/v2/Users/{id} GET : Retrieve a user by ID PUT : Update a user PATCH : Modify a user DELETE : Delete a user Groups /identity/restv1/scim/v2/Groups GET : Search groups based on filter criteria POST : Create group /identity/restv1/scim/v2/Groups/.search POST : Search groups based on filter criteria /identity/restv1/scim/v2/Groups/{id} GET : Retrieve a group by ID PUT : Update a group PATCH : Modify a group DELETE : Delete a group FIDO Devices /identity/restv1/scim/v2/FidoDevices /identity/restv1/scim/v2/Fido2Devices GET : Search FIDO devices based on filter criteria /identity/restv1/scim/v2/FidoDevices/.search /identity/restv1/scim/v2/Fido2Devices/.search POST : Search FIDO devices based on filter criteria /identity/restv1/scim/v2/FidoDevices/{id} /identity/restv1/scim/v2/Fido2Devices/{id} GET : Retrieve a FIDO device by ID PUT : Update a FIDO device PATCH : Modify a FIDO device DELETE : Delete a FIDO device Bulk Operations /identity/restv1/scim/v2/Bulk POST : Apply bulk operation Search /identity/restv1/scim/v2/.search POST : Search resources based on filter criteria Service Metadata /identity/restv1/scim/v2/ServiceProvider GET: Retrieve information about the capabilities of the server /identity/restv1/scim/v2/ResourceTypes GET: Retrieve information about the types of resources available in the service /identity/restv1/scim/v2/Schemas GET: Retrieve the schemas in use by available resources","title":"System for Cross-domain Identity Management (SCIM)"},{"location":"iam/login-service/#dependencies","text":"Describe links with other eoepca components - e.g. interfaces consumed.","title":"Dependencies"},{"location":"iam/login-service/#additional-information","text":"Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"Additional Information"},{"location":"iam/pdp/","text":"PDP - Policy Decision Point \u2693\ufe0e [To be completed by Deimos] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful. Description \u2693\ufe0e Description to include: role in the architecture functional capabilities Interfaces \u2693\ufe0e Specification of interfaces provided by the component. Link to external specifications if applicable. Policy API \u2693\ufe0e TODO eXtensible Access Control Markup Language (XACML) \u2693\ufe0e XACML REST Profile http://docs.oasis-open.org/xacml/xacml-rest/v1.1/xacml-rest-v1.1.html XACML JSON Profile http://docs.oasis-open.org/xacml/xacml-json-http/v1.1/xacml-json-http-v1.1.html Dependencies \u2693\ufe0e Describe links with other eoepca components - e.g. interfaces consumed. Additional Information \u2693\ufe0e Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"PDP - Policy Decision Point"},{"location":"iam/pdp/#pdp-policy-decision-point","text":"[To be completed by Deimos] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful.","title":"PDP - Policy Decision Point"},{"location":"iam/pdp/#description","text":"Description to include: role in the architecture functional capabilities","title":"Description"},{"location":"iam/pdp/#interfaces","text":"Specification of interfaces provided by the component. Link to external specifications if applicable.","title":"Interfaces"},{"location":"iam/pdp/#policy-api","text":"TODO","title":"Policy API"},{"location":"iam/pdp/#extensible-access-control-markup-language-xacml","text":"XACML REST Profile http://docs.oasis-open.org/xacml/xacml-rest/v1.1/xacml-rest-v1.1.html XACML JSON Profile http://docs.oasis-open.org/xacml/xacml-json-http/v1.1/xacml-json-http-v1.1.html","title":"eXtensible Access Control Markup Language (XACML)"},{"location":"iam/pdp/#dependencies","text":"Describe links with other eoepca components - e.g. interfaces consumed.","title":"Dependencies"},{"location":"iam/pdp/#additional-information","text":"Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"Additional Information"},{"location":"iam/pep/","text":"PEP - Policy Enforcement Point \u2693\ufe0e [To be completed by Deimos] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful. Description \u2693\ufe0e Description to include: role in the architecture functional capabilities Interfaces \u2693\ufe0e Specification of interfaces provided by the component. Link to external specifications if applicable. Nginx auth_request \u2693\ufe0e TODO Resources API \u2693\ufe0e TODO Dependencies \u2693\ufe0e Describe links with other eoepca components - e.g. interfaces consumed. Additional Information \u2693\ufe0e Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"PEP - Policy Enforcement Point"},{"location":"iam/pep/#pep-policy-enforcement-point","text":"[To be completed by Deimos] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful.","title":"PEP - Policy Enforcement Point"},{"location":"iam/pep/#description","text":"Description to include: role in the architecture functional capabilities","title":"Description"},{"location":"iam/pep/#interfaces","text":"Specification of interfaces provided by the component. Link to external specifications if applicable.","title":"Interfaces"},{"location":"iam/pep/#nginx-auth_request","text":"TODO","title":"Nginx auth_request"},{"location":"iam/pep/#resources-api","text":"TODO","title":"Resources API"},{"location":"iam/pep/#dependencies","text":"Describe links with other eoepca components - e.g. interfaces consumed.","title":"Dependencies"},{"location":"iam/pep/#additional-information","text":"Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"Additional Information"},{"location":"iam/resource-guard/","text":"Resource Guard \u2693\ufe0e Description \u2693\ufe0e The Resource Guard provides protection of a Resource Server by application of two sub-components: UMA User Agent Integrates with nginx by providing an auth_request endpoint through which nginx reverse-proxy (ingress controller) can obtain authorization before proxying a request. Defers to the PEP for the policy enforcement. The UMA User Agent acts as a UMA client in its interactions with the PEP, and interfaces to the Token Endpoint of the system Authorization Server to follow the UMA flow. Policy Enforcement Point (PEP) Integrates with the UMA User Agent by providing an auth_request endpoint through which the UMA User Agent can obtain authorization as a UMA client. The PEP integrates with the system Authorization Server to engage in the UMA flow. Both the UMA User Agent and the PEP offer an HTTP interface in accordance with the nginx module ngx_http_auth_request_module . The authorization flow chains nginx -> UMA User Agent -> PEP , as illustrated in the following sequence diagram. Thus the Resource Guard is deployed as a UMA User Agent / Policy Enforcement Point pair that have been coherently configured to protect a given Resource Server . For more information see the descriptions of the UMA User Agent and Policy Enforcement Point . Interfaces \u2693\ufe0e See the interface specifications for the UMA User Agent and Policy Enforcement Point . Dependencies \u2693\ufe0e The Resource Guard is an \u2018umbrella\u2019 component that comprises and so entirely depends upon the UMA User Agent and Policy Enforcement Point . Additional Information \u2693\ufe0e The Resource Guard is deployed using the helm chart that is available at the EOEPCA Helm Chart Repository .","title":"Resource Guard"},{"location":"iam/resource-guard/#resource-guard","text":"","title":"Resource Guard"},{"location":"iam/resource-guard/#description","text":"The Resource Guard provides protection of a Resource Server by application of two sub-components: UMA User Agent Integrates with nginx by providing an auth_request endpoint through which nginx reverse-proxy (ingress controller) can obtain authorization before proxying a request. Defers to the PEP for the policy enforcement. The UMA User Agent acts as a UMA client in its interactions with the PEP, and interfaces to the Token Endpoint of the system Authorization Server to follow the UMA flow. Policy Enforcement Point (PEP) Integrates with the UMA User Agent by providing an auth_request endpoint through which the UMA User Agent can obtain authorization as a UMA client. The PEP integrates with the system Authorization Server to engage in the UMA flow. Both the UMA User Agent and the PEP offer an HTTP interface in accordance with the nginx module ngx_http_auth_request_module . The authorization flow chains nginx -> UMA User Agent -> PEP , as illustrated in the following sequence diagram. Thus the Resource Guard is deployed as a UMA User Agent / Policy Enforcement Point pair that have been coherently configured to protect a given Resource Server . For more information see the descriptions of the UMA User Agent and Policy Enforcement Point .","title":"Description"},{"location":"iam/resource-guard/#interfaces","text":"See the interface specifications for the UMA User Agent and Policy Enforcement Point .","title":"Interfaces"},{"location":"iam/resource-guard/#dependencies","text":"The Resource Guard is an \u2018umbrella\u2019 component that comprises and so entirely depends upon the UMA User Agent and Policy Enforcement Point .","title":"Dependencies"},{"location":"iam/resource-guard/#additional-information","text":"The Resource Guard is deployed using the helm chart that is available at the EOEPCA Helm Chart Repository .","title":"Additional Information"},{"location":"iam/uma-user-agent/","text":"UMA User Agent \u2693\ufe0e Description \u2693\ufe0e The UMA User Agent implements a UMA (User Managed Access) client to obtain an access token on behalf of the end-user. All access attempts to a Resource Server, (e.g. Catalogue, Data Access, ADES, etc.), are subject to the policy enforcement of the PEP (Policy Enforcement Point). For reasons of performance, it is desirable for Nginx to act as the reverse-proxy in this protection flow, rather than the proxy function of the PEP which is not designed for large numbers of concurrent requests or large data volumes. Through the Module ngx_http_auth_request_module , Nginx provides a mechanism in which its reverse-proxy function can defer the authorization decision to a subrequest, and so offer protected access. Hence, this auth_request interface offers a means to invoke the services of the PEP, whilst maintaining proxy performance. The auth_request approach invokes the subrequest with the expectation to receive one of three possible responses: 2xx (OK) , 401 (Unauthorized) , 403 (Forbidden) . Only 2xx (OK) auth_request responses will permit the onward proxy of the request. Otherwise the 401 / 403 response is returned to the client. In order to inform its decision the PEP is provided with pertinent request information through http headers set by nginx in the subrequest: X-Original-Method (http method of client request); X-Original-Uri (path to the requested resource). The PEP implements the nginx auth_request interface and so returns 2xx , 401 or 403 . In the case of a 401 response, then the PEP expects the client to follow the UMA (User Managed Access) flow, using the ticket that is provided in the Www-Authenticate header it returns with the 401 response. A typical client, such as a browser, is not in a position to follow the UMA flow. Thus, the UMA User Agent performs the role of UMA client on behalf of the end-user client (user agent). The UMA User Agent sits between nginx and the PEP, to intercept the PEP 401 responses (with Www-Authenticate header) to follow the UMA flow, exchanging a ticket for an RPT (Relying Party Token), which can then be re-presented to the PEP and so gain authorization. This flow, and the chaining of the UMA User Agent -> PEP in the nginx auth_request subrequest, is illustrated in the following sequence diagram. Interfaces \u2693\ufe0e HTTP Request \u2693\ufe0e The UMA User Agent supports the following inputs on the http subrequest from nginx: http headers X-Original-Method : http method of client request X-Original-Uri : path to the requested resource Authorization : carrying Bearer token for user ID (optional) X-User-Id : user ID token from OIDC (optional) http cookie auth_user_id : user ID token from OIDC (optional) Cookie name is configurable auth_rpt-<endpoint-name> : RPT from previous successful access (optional) Cookie name is configurable User ID Token There are three means through which the User ID Token (from OIDC) can be presented to the UMA User Agent . These are in priority order : Authorization header as a bearer token - in the form: Authorization: Bearer <token> X-User-Id header auth_user_id cookie (name of cookie is configurable) HTTP Response \u2693\ufe0e The UMA User Agent sets the following headers in the http response: Response 2xx (OK) : X-User-Id : user ID token, to be passed-on to the target Resource Server X-Auth-Rpt : RPT from successful authorization X-Auth-Rpt-Options : cookie options for RPT Response 401 (Unauthorized) : Www-Authenticate: defines http authorization methods Response 403 (Forbidden) : No specific headers OpenAPI Document \u2693\ufe0e TBD Dependencies \u2693\ufe0e The UMA User Agent integrates with: nginx Nginx is configured via its auth_request module to invoke the UMA User Agent before allowing the request. PEP The UMA User Agent relies on the PEP to provide the enforcement decision. This is achieved by chaining the auth_request to the PEP. Authorization Server The UMA User Agent follows the UMA flow by interfacing with the token endpoint of the Authorization Server that is identified in the response received back from the PEP. Additional Information \u2693\ufe0e Describe the configuration of the agent binary, and the configuration of nginx.","title":"UMA User Agent"},{"location":"iam/uma-user-agent/#uma-user-agent","text":"","title":"UMA User Agent"},{"location":"iam/uma-user-agent/#description","text":"The UMA User Agent implements a UMA (User Managed Access) client to obtain an access token on behalf of the end-user. All access attempts to a Resource Server, (e.g. Catalogue, Data Access, ADES, etc.), are subject to the policy enforcement of the PEP (Policy Enforcement Point). For reasons of performance, it is desirable for Nginx to act as the reverse-proxy in this protection flow, rather than the proxy function of the PEP which is not designed for large numbers of concurrent requests or large data volumes. Through the Module ngx_http_auth_request_module , Nginx provides a mechanism in which its reverse-proxy function can defer the authorization decision to a subrequest, and so offer protected access. Hence, this auth_request interface offers a means to invoke the services of the PEP, whilst maintaining proxy performance. The auth_request approach invokes the subrequest with the expectation to receive one of three possible responses: 2xx (OK) , 401 (Unauthorized) , 403 (Forbidden) . Only 2xx (OK) auth_request responses will permit the onward proxy of the request. Otherwise the 401 / 403 response is returned to the client. In order to inform its decision the PEP is provided with pertinent request information through http headers set by nginx in the subrequest: X-Original-Method (http method of client request); X-Original-Uri (path to the requested resource). The PEP implements the nginx auth_request interface and so returns 2xx , 401 or 403 . In the case of a 401 response, then the PEP expects the client to follow the UMA (User Managed Access) flow, using the ticket that is provided in the Www-Authenticate header it returns with the 401 response. A typical client, such as a browser, is not in a position to follow the UMA flow. Thus, the UMA User Agent performs the role of UMA client on behalf of the end-user client (user agent). The UMA User Agent sits between nginx and the PEP, to intercept the PEP 401 responses (with Www-Authenticate header) to follow the UMA flow, exchanging a ticket for an RPT (Relying Party Token), which can then be re-presented to the PEP and so gain authorization. This flow, and the chaining of the UMA User Agent -> PEP in the nginx auth_request subrequest, is illustrated in the following sequence diagram.","title":"Description"},{"location":"iam/uma-user-agent/#interfaces","text":"","title":"Interfaces"},{"location":"iam/uma-user-agent/#http-request","text":"The UMA User Agent supports the following inputs on the http subrequest from nginx: http headers X-Original-Method : http method of client request X-Original-Uri : path to the requested resource Authorization : carrying Bearer token for user ID (optional) X-User-Id : user ID token from OIDC (optional) http cookie auth_user_id : user ID token from OIDC (optional) Cookie name is configurable auth_rpt-<endpoint-name> : RPT from previous successful access (optional) Cookie name is configurable User ID Token There are three means through which the User ID Token (from OIDC) can be presented to the UMA User Agent . These are in priority order : Authorization header as a bearer token - in the form: Authorization: Bearer <token> X-User-Id header auth_user_id cookie (name of cookie is configurable)","title":"HTTP Request"},{"location":"iam/uma-user-agent/#http-response","text":"The UMA User Agent sets the following headers in the http response: Response 2xx (OK) : X-User-Id : user ID token, to be passed-on to the target Resource Server X-Auth-Rpt : RPT from successful authorization X-Auth-Rpt-Options : cookie options for RPT Response 401 (Unauthorized) : Www-Authenticate: defines http authorization methods Response 403 (Forbidden) : No specific headers","title":"HTTP Response"},{"location":"iam/uma-user-agent/#openapi-document","text":"TBD","title":"OpenAPI Document"},{"location":"iam/uma-user-agent/#dependencies","text":"The UMA User Agent integrates with: nginx Nginx is configured via its auth_request module to invoke the UMA User Agent before allowing the request. PEP The UMA User Agent relies on the PEP to provide the enforcement decision. This is achieved by chaining the auth_request to the PEP. Authorization Server The UMA User Agent follows the UMA flow by interfacing with the token endpoint of the Authorization Server that is identified in the response received back from the PEP.","title":"Dependencies"},{"location":"iam/uma-user-agent/#additional-information","text":"Describe the configuration of the agent binary, and the configuration of nginx.","title":"Additional Information"},{"location":"iam/user-profile/","text":"User Profile \u2693\ufe0e [To be completed by Deimos] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful. Description \u2693\ufe0e Description to include: role in the architecture functional capabilities Interfaces \u2693\ufe0e Specification of interfaces provided by the component. Link to external specifications if applicable. Dependencies \u2693\ufe0e Describe links with other eoepca components - e.g. interfaces consumed. Additional Information \u2693\ufe0e Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"User Profile"},{"location":"iam/user-profile/#user-profile","text":"[To be completed by Deimos] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful.","title":"User Profile"},{"location":"iam/user-profile/#description","text":"Description to include: role in the architecture functional capabilities","title":"Description"},{"location":"iam/user-profile/#interfaces","text":"Specification of interfaces provided by the component. Link to external specifications if applicable.","title":"Interfaces"},{"location":"iam/user-profile/#dependencies","text":"Describe links with other eoepca components - e.g. interfaces consumed.","title":"Dependencies"},{"location":"iam/user-profile/#additional-information","text":"Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"Additional Information"},{"location":"processing/AP-validator/","text":"Application Package Validator [TODO] \u2693\ufe0e [To be completed by Terradue] The purpose of this section is to describe the Application Package Validator, its usage and links to other relevant resources. The idea is to provide a singular documentation entrypoint, alongside the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful. Description \u2693\ufe0e Description to include: role in the architecture/ EOEPCA functional capabilities Usage Information \u2693\ufe0e Details of usage - both CLI and python library. Link to external resources if applicable. Dependencies \u2693\ufe0e May not be applicable here. Additional Information \u2693\ufe0e Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"Application Package Validator [TODO]"},{"location":"processing/AP-validator/#application-package-validator-todo","text":"[To be completed by Terradue] The purpose of this section is to describe the Application Package Validator, its usage and links to other relevant resources. The idea is to provide a singular documentation entrypoint, alongside the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful.","title":"Application Package Validator [TODO]"},{"location":"processing/AP-validator/#description","text":"Description to include: role in the architecture/ EOEPCA functional capabilities","title":"Description"},{"location":"processing/AP-validator/#usage-information","text":"Details of usage - both CLI and python library. Link to external resources if applicable.","title":"Usage Information"},{"location":"processing/AP-validator/#dependencies","text":"May not be applicable here.","title":"Dependencies"},{"location":"processing/AP-validator/#additional-information","text":"Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"Additional Information"},{"location":"processing/ades/","text":"ADES [TODO] \u2693\ufe0e [To be completed by Terradue] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful. Description \u2693\ufe0e Description to include: role in the architecture functional capabilities Interfaces \u2693\ufe0e Specification of interfaces provided by the component. Link to external specifications if applicable. Dependencies \u2693\ufe0e Describe links with other eoepca components - e.g. interfaces consumed. Additional Information \u2693\ufe0e Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"ADES [TODO]"},{"location":"processing/ades/#ades-todo","text":"[To be completed by Terradue] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful.","title":"ADES [TODO]"},{"location":"processing/ades/#description","text":"Description to include: role in the architecture functional capabilities","title":"Description"},{"location":"processing/ades/#interfaces","text":"Specification of interfaces provided by the component. Link to external specifications if applicable.","title":"Interfaces"},{"location":"processing/ades/#dependencies","text":"Describe links with other eoepca components - e.g. interfaces consumed.","title":"Dependencies"},{"location":"processing/ades/#additional-information","text":"Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"Additional Information"},{"location":"processing/application-hub/","text":"Application Hub [TODO] \u2693\ufe0e [To be completed by Terradue] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful. The Application Hub provides integrated web tooling to perform interactive analysis, to develop, test & package apps for ADES execution, and to provide a user-extensible capability for interactive dashboards. This includes a web IDE (Code Server) that provides an environment that seeks to replicate the conditions an application experiences when running in the ADES on a platform. Description \u2693\ufe0e Description to include: role in the architecture functional capabilities THE CONTENT BELOW WAS WRITTEN FOR THE PDE AND NEEDS TO BE REPLACED BY A DESCRIPTION OF THE APPLICATION HUB. IT IS LEFT HERE IN CASE IT ACTS AS A USEFUL STARTING POINT\u2026 The PDE comprises two main parts: JupyterHub Instance Provides the multi-user entrypoint through which the user logs-in and from where their interactive environment is spawned. PDE Container Provides the interactive environment, an instance of which is spawned for each authenticated user. JupyterHub \u2693\ufe0e The entry-point to the PDE service is provided through an instance of JupyterHub - as described at https://jupyterhub.readthedocs.io/en/stable/ . For EOEPCA , the PDE is designed for deployment to Kubernetes via the PDE helm chart , that is based upon the \u2018Zero to JupyterHub with Kubernetes\u2019 distribution that is provided at https://zero-to-jupyterhub.readthedocs.io/en/latest/ . At the core of the distribution is the JupyterHub jupyterhub/jupyterhub container image - see DockerHub https://hub.docker.com/r/jupyterhub/jupyterhub . In the jupyterhub/jupyterhub image, the JupyterHub service is configured via the file /srv/jupyterhub/jupyterhub_config.py . JupyterHub spawns a service instance for each user that logs in to the hub. Instances can be spawned as containers using the DockerSpawner or KubeSpawner . In the case of EOEPCA the KubeSpawner is used. The spawner is configured via the jupyterhub_config.py file. Access to the spawned \u2018single-user servers\u2019 is proxied via the JupyterHub entry-point. Thus, all access to the hub and the associated user PDE sessions is made through the hub and its proxy. More details regarding the JupyterHub architecture are available at https://jupyterhub.readthedocs.io/en/stable/reference/technical-overview.html . PDE Container \u2693\ufe0e The PDE container is an implementation of the so-called \u2018single-user notbook servers\u2019 that are designed to be spawned by JupyterHub for each authenticated user. Typically these single-user-servers are based-upon a JupyterLab instance. For the PDE a base JupyterLab container is enriched to provide additional tooling - for example the Theia IDE. Interfaces \u2693\ufe0e Specification of interfaces provided by the component. Link to external specifications if applicable. JupyterHub Configuration \u2693\ufe0e The JupyterHub service is configured via the file /srv/jupyterhub/jupyterhub_config.py : Basics: https://jupyterhub.readthedocs.io/en/stable/getting-started/config-basics.html Detailed: https://jupyterhub.readthedocs.io/en/stable/reference/ PDE Container Configuration \u2693\ufe0e TODO Dependencies \u2693\ufe0e Describe links with other eoepca components - e.g. interfaces consumed. Additional Information \u2693\ufe0e Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"Application Hub [TODO]"},{"location":"processing/application-hub/#application-hub-todo","text":"[To be completed by Terradue] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. In the first instant, gather relevant information from existing docs/wikis where it exists, and collate here. Use dedicated markdown files to separate the sub-section content if needed. Use diagrams where useful. The Application Hub provides integrated web tooling to perform interactive analysis, to develop, test & package apps for ADES execution, and to provide a user-extensible capability for interactive dashboards. This includes a web IDE (Code Server) that provides an environment that seeks to replicate the conditions an application experiences when running in the ADES on a platform.","title":"Application Hub [TODO]"},{"location":"processing/application-hub/#description","text":"Description to include: role in the architecture functional capabilities THE CONTENT BELOW WAS WRITTEN FOR THE PDE AND NEEDS TO BE REPLACED BY A DESCRIPTION OF THE APPLICATION HUB. IT IS LEFT HERE IN CASE IT ACTS AS A USEFUL STARTING POINT\u2026 The PDE comprises two main parts: JupyterHub Instance Provides the multi-user entrypoint through which the user logs-in and from where their interactive environment is spawned. PDE Container Provides the interactive environment, an instance of which is spawned for each authenticated user.","title":"Description"},{"location":"processing/application-hub/#jupyterhub","text":"The entry-point to the PDE service is provided through an instance of JupyterHub - as described at https://jupyterhub.readthedocs.io/en/stable/ . For EOEPCA , the PDE is designed for deployment to Kubernetes via the PDE helm chart , that is based upon the \u2018Zero to JupyterHub with Kubernetes\u2019 distribution that is provided at https://zero-to-jupyterhub.readthedocs.io/en/latest/ . At the core of the distribution is the JupyterHub jupyterhub/jupyterhub container image - see DockerHub https://hub.docker.com/r/jupyterhub/jupyterhub . In the jupyterhub/jupyterhub image, the JupyterHub service is configured via the file /srv/jupyterhub/jupyterhub_config.py . JupyterHub spawns a service instance for each user that logs in to the hub. Instances can be spawned as containers using the DockerSpawner or KubeSpawner . In the case of EOEPCA the KubeSpawner is used. The spawner is configured via the jupyterhub_config.py file. Access to the spawned \u2018single-user servers\u2019 is proxied via the JupyterHub entry-point. Thus, all access to the hub and the associated user PDE sessions is made through the hub and its proxy. More details regarding the JupyterHub architecture are available at https://jupyterhub.readthedocs.io/en/stable/reference/technical-overview.html .","title":"JupyterHub"},{"location":"processing/application-hub/#pde-container","text":"The PDE container is an implementation of the so-called \u2018single-user notbook servers\u2019 that are designed to be spawned by JupyterHub for each authenticated user. Typically these single-user-servers are based-upon a JupyterLab instance. For the PDE a base JupyterLab container is enriched to provide additional tooling - for example the Theia IDE.","title":"PDE Container"},{"location":"processing/application-hub/#interfaces","text":"Specification of interfaces provided by the component. Link to external specifications if applicable.","title":"Interfaces"},{"location":"processing/application-hub/#jupyterhub-configuration","text":"The JupyterHub service is configured via the file /srv/jupyterhub/jupyterhub_config.py : Basics: https://jupyterhub.readthedocs.io/en/stable/getting-started/config-basics.html Detailed: https://jupyterhub.readthedocs.io/en/stable/reference/","title":"JupyterHub Configuration"},{"location":"processing/application-hub/#pde-container-configuration","text":"TODO","title":"PDE Container Configuration"},{"location":"processing/application-hub/#dependencies","text":"Describe links with other eoepca components - e.g. interfaces consumed.","title":"Dependencies"},{"location":"processing/application-hub/#additional-information","text":"Include descriptions of anything that is relevant to help users of the component. Links to other relevant information.","title":"Additional Information"},{"location":"resources/catalogue/","text":"Resource Catalogue [TODO] \u2693\ufe0e [To be completed by EOX/EOfarm] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. This section describes the Resource Catalogue building-block. The relationship of the Resource Catalogue to other components is described in the System Overview . Description \u2693\ufe0e The Use Cases for the Resource Catalogue are described below. Publish Metadata. Metadata can be an input or output for the ADES ( Application Deployment & Execution Service). Publish Product. Metadata relating to a product and containing a reference to that product. Publish Processing Service. Metadata describing a Processing Service. Publish Interactive Application. Metadata describing the needs of an Application. Publish Collection. Metadata describing a collection of Metadata. Compliance. Metadata compliance required before it is published. Search Metadata. Find desired Metadata. Search Temporally. Time based search. Search by AOI. Area of Interest based search. Search Input for Data Processing. Input required by a process in the ADES. Search Parameters for Processing. Parameters required to help configure a process in the ADES. Authorisation. This may be requites to perform Publish and Search based Use Cases. Overview \u2693\ufe0e The high level design is described below. Interfaces \u2693\ufe0e The following interfaces are provided by the Resource Catalogue. Publishing and Search OGC CSW 3.0.0 and 2.0.2 interfaces Certified OGC Compliant and OGC Reference Implementation for both CSW 2.0.2 and CSW 3.0.0 Search OGC OpenSearch with EO , Geo and Time Extensions OGC API Records STAC (SpatioTemporal Asset Catalog) Federated catalogue distributed searching Metadata Implements ISO Metadata Application Profile 1.0.0 Support for ISO-19115-1 and ISO-19115-2 (Geographic information) Ingestion Harvesting support for WMS, WFS, WCS, WPS, WAF, CSW, SOS Ingestion Interfaces \u2693\ufe0e The Resource Catalogue provides the following interfaces for ingestion of metadata records: pycsw Python API Python library with classes for interfacing with pycsw instance - for example to insert() records. pycsw CLI Command-line tool pycsw-admin.py will import ( load-records ) records from XML files in the filesystem. OGC CSW Transactions pycsw supports OGC CSW Transactions for Insert , Update and Delete \u2026 Insert: full XML documents can be inserted as per CSW-T Update: updates can be made as full record updates or record properties against a csw:Constraint Delete: deletes can be made against a csw:Constraint TODO: provide some examples for loading records Dependencies \u2693\ufe0e The Resource Catalogue is designed to support the ADES component. It can also be used directly if needed. Additional Information \u2693\ufe0e Please refer to the latest EOEPCA release notes for more information. The Use Cases above were derived from the EOEPCA Use Case Analysis Document .","title":"Resource Catalogue [TODO]"},{"location":"resources/catalogue/#resource-catalogue-todo","text":"[To be completed by EOX/EOfarm] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. This section describes the Resource Catalogue building-block. The relationship of the Resource Catalogue to other components is described in the System Overview .","title":"Resource Catalogue [TODO]"},{"location":"resources/catalogue/#description","text":"The Use Cases for the Resource Catalogue are described below. Publish Metadata. Metadata can be an input or output for the ADES ( Application Deployment & Execution Service). Publish Product. Metadata relating to a product and containing a reference to that product. Publish Processing Service. Metadata describing a Processing Service. Publish Interactive Application. Metadata describing the needs of an Application. Publish Collection. Metadata describing a collection of Metadata. Compliance. Metadata compliance required before it is published. Search Metadata. Find desired Metadata. Search Temporally. Time based search. Search by AOI. Area of Interest based search. Search Input for Data Processing. Input required by a process in the ADES. Search Parameters for Processing. Parameters required to help configure a process in the ADES. Authorisation. This may be requites to perform Publish and Search based Use Cases.","title":"Description"},{"location":"resources/catalogue/#overview","text":"The high level design is described below.","title":"Overview"},{"location":"resources/catalogue/#interfaces","text":"The following interfaces are provided by the Resource Catalogue. Publishing and Search OGC CSW 3.0.0 and 2.0.2 interfaces Certified OGC Compliant and OGC Reference Implementation for both CSW 2.0.2 and CSW 3.0.0 Search OGC OpenSearch with EO , Geo and Time Extensions OGC API Records STAC (SpatioTemporal Asset Catalog) Federated catalogue distributed searching Metadata Implements ISO Metadata Application Profile 1.0.0 Support for ISO-19115-1 and ISO-19115-2 (Geographic information) Ingestion Harvesting support for WMS, WFS, WCS, WPS, WAF, CSW, SOS","title":"Interfaces"},{"location":"resources/catalogue/#ingestion-interfaces","text":"The Resource Catalogue provides the following interfaces for ingestion of metadata records: pycsw Python API Python library with classes for interfacing with pycsw instance - for example to insert() records. pycsw CLI Command-line tool pycsw-admin.py will import ( load-records ) records from XML files in the filesystem. OGC CSW Transactions pycsw supports OGC CSW Transactions for Insert , Update and Delete \u2026 Insert: full XML documents can be inserted as per CSW-T Update: updates can be made as full record updates or record properties against a csw:Constraint Delete: deletes can be made against a csw:Constraint TODO: provide some examples for loading records","title":"Ingestion Interfaces"},{"location":"resources/catalogue/#dependencies","text":"The Resource Catalogue is designed to support the ADES component. It can also be used directly if needed.","title":"Dependencies"},{"location":"resources/catalogue/#additional-information","text":"Please refer to the latest EOEPCA release notes for more information. The Use Cases above were derived from the EOEPCA Use Case Analysis Document .","title":"Additional Information"},{"location":"resources/data-access/","text":"Data Access [TODO] \u2693\ufe0e [To be completed by EOX/EOfarm] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. This section describes the Resource Catalogue building-block. The relationship of the Resource Catalogue to other components is described in the System Overview . Description \u2693\ufe0e The Use Cases for Data Access are described below. Get Data Overview \u2693\ufe0e The high level design is described below. Interfaces \u2693\ufe0e The following interfaces are provided by Data Access. Get Data OGC WMS 1.1 - 1.3 interfaces OGC WMTS 1.0 interfaces with automatic caching OGC WCS 2.0 interfaces with EO Application Profile Harvesting \u2693\ufe0e The Data Access harvester supports following back-ends from which to harvest: OpenSearch File-based TODO - what is meant by file-based - STAC Catalog? The harvester supports post-processors to adapt/enrich the harvested metadata before it is registered\u2026 CREODIASOpenSearchSentinel2Postprocessor Sentinel-2 metadata from the CREODIAS catalogue. Other post-processors can be plugged-in through configuration of the harvester component. Registration \u2693\ufe0e Data can be directly registered with the Data Access component by pushing a STAC item to the register_queue of the data-access redis service. During registration, the Data Access component also ingests the metadata record to the Resource Catalogue , uisng the pycsw python API. Dependencies \u2693\ufe0e The Data Access component is dependent upon the Catalogue and the S3 bucket. Additional Information \u2693\ufe0e Please refer to the latest EOEPCA release notes for more information. The Use Cases above were derived from the EOEPCA Use Case Analysis Document .","title":"Data Access [TODO]"},{"location":"resources/data-access/#data-access-todo","text":"[To be completed by EOX/EOfarm] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. This section describes the Resource Catalogue building-block. The relationship of the Resource Catalogue to other components is described in the System Overview .","title":"Data Access [TODO]"},{"location":"resources/data-access/#description","text":"The Use Cases for Data Access are described below. Get Data","title":"Description"},{"location":"resources/data-access/#overview","text":"The high level design is described below.","title":"Overview"},{"location":"resources/data-access/#interfaces","text":"The following interfaces are provided by Data Access. Get Data OGC WMS 1.1 - 1.3 interfaces OGC WMTS 1.0 interfaces with automatic caching OGC WCS 2.0 interfaces with EO Application Profile","title":"Interfaces"},{"location":"resources/data-access/#harvesting","text":"The Data Access harvester supports following back-ends from which to harvest: OpenSearch File-based TODO - what is meant by file-based - STAC Catalog? The harvester supports post-processors to adapt/enrich the harvested metadata before it is registered\u2026 CREODIASOpenSearchSentinel2Postprocessor Sentinel-2 metadata from the CREODIAS catalogue. Other post-processors can be plugged-in through configuration of the harvester component.","title":"Harvesting"},{"location":"resources/data-access/#registration","text":"Data can be directly registered with the Data Access component by pushing a STAC item to the register_queue of the data-access redis service. During registration, the Data Access component also ingests the metadata record to the Resource Catalogue , uisng the pycsw python API.","title":"Registration"},{"location":"resources/data-access/#dependencies","text":"The Data Access component is dependent upon the Catalogue and the S3 bucket.","title":"Dependencies"},{"location":"resources/data-access/#additional-information","text":"Please refer to the latest EOEPCA release notes for more information. The Use Cases above were derived from the EOEPCA Use Case Analysis Document .","title":"Additional Information"},{"location":"resources/workspace/","text":"Workspace [TODO] \u2693\ufe0e [To be completed by EOX/EOfarm] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. This section describes the Resource Catalogue building-block. The relationship of the Resource Catalogue to other components is described in the System Overview . Description \u2693\ufe0e The Use Cases for the Workspace are described below. Ingest Resources. Update Resources. Select Resources. Delete Resources. Visualise Resources. Overview \u2693\ufe0e The high level design is described below. Interfaces \u2693\ufe0e The following interfaces are used by the Resource Catalogue. RESTful service to implement the above Use Cases. GET /workspaces/ (Select Resources) POST /workspaces/ (Ingest Resources) PATCH /workspaces/ (Update Resources) DELETE /workspaces/ (Delete Resources) Visualise ??????? OGC WMS 1.1 - 1.3 interfaces OGC WMTS 1.0 interfaces with automatic caching OGC WCS 2.0 interfaces with EO Application Profile Dependencies \u2693\ufe0e The Workspace is dependent upon the Data Access component and the Catalogue Component. Additional Information \u2693\ufe0e Please refer to the latest EOEPCA release notes for more information. The Use Cases above were derived from the EOEPCA Use Case Analysis Document .","title":"Workspace [TODO]"},{"location":"resources/workspace/#workspace-todo","text":"[To be completed by EOX/EOfarm] The purpose of this section is to identify the building-block, its role in the architecture, and its relationship to the other building-blocks expressed through the interfaces it provides and consumes. The idea is to provide a singular entrypoint to the EOEPCA building-blocks. This section describes the Resource Catalogue building-block. The relationship of the Resource Catalogue to other components is described in the System Overview .","title":"Workspace [TODO]"},{"location":"resources/workspace/#description","text":"The Use Cases for the Workspace are described below. Ingest Resources. Update Resources. Select Resources. Delete Resources. Visualise Resources.","title":"Description"},{"location":"resources/workspace/#overview","text":"The high level design is described below.","title":"Overview"},{"location":"resources/workspace/#interfaces","text":"The following interfaces are used by the Resource Catalogue. RESTful service to implement the above Use Cases. GET /workspaces/ (Select Resources) POST /workspaces/ (Ingest Resources) PATCH /workspaces/ (Update Resources) DELETE /workspaces/ (Delete Resources) Visualise ??????? OGC WMS 1.1 - 1.3 interfaces OGC WMTS 1.0 interfaces with automatic caching OGC WCS 2.0 interfaces with EO Application Profile","title":"Interfaces"},{"location":"resources/workspace/#dependencies","text":"The Workspace is dependent upon the Data Access component and the Catalogue Component.","title":"Dependencies"},{"location":"resources/workspace/#additional-information","text":"Please refer to the latest EOEPCA release notes for more information. The Use Cases above were derived from the EOEPCA Use Case Analysis Document .","title":"Additional Information"},{"location":"system/overview/","text":"Overview [TODO] \u2693\ufe0e High level overview of the system.","title":"Overview [TODO]"},{"location":"system/overview/#overview-todo","text":"High level overview of the system.","title":"Overview [TODO]"}]}